<h1>Search</h1>
<%= form_with url: "/search", method: :get do |form| %>
   <%= form.label :query, "Search for:" %>
   <%= form.text_field :query, :value => @query %>


   
   <%= form.label :category_id, "Filter by Category:" %>
   <%= form.select :category_id, Category.all.map {|s| [s.name, s.id]}, :selected => @category_id, :include_blank => true %>
   

   <%= form.label :manufacturer_id, "Filter by Manufacturer:" %>
   <%= form.select :manufacturer_id, Manufacturer.all.map {|s| [s.name, s.id]}, :selected => @manufacturer_id, :include_blank => true %>
 
   <%= form.submit "Search" %>
 <% end %>

 <p class="mt-3"> You Searched for  '<%= @query %>'</p>

 <h2>Results</h2>

<% if @devices.present? %>
<p>Hits: <%= @devices.count %></p>
<ul>
   <% @devices.each do |c| %>
   <li><%= c.name %></li>  
   <% end %>
</ul>
<% end %>
